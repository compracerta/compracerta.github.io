<!doctype html>
<html data-n-head-ssr lang="pt-BR" data-n-head="%7B%22lang%22:%7B%22ssr%22:%22pt-BR%22%7D%7D">
   <head>
      <title>Compra Certa</title>
      <meta data-n-head="ssr" charset="utf-8">
      <meta data-n-head="ssr" name="viewport" content="width=device-width, initial-scale=1">
      <meta data-n-head="ssr" data-hid="description" name="description" content="Ofertas e cupons de desconto">
      <meta data-n-head="ssr" name="format-detection" content="telephone=no">
      <meta data-n-head="ssr" meta="verify-admitad" content="37d843e8cd">
      <meta data-n-head="ssr" meta="lomadee-verification" content="23051799">
      <meta data-n-head="ssr" data-hid="charset" charset="utf-8">
      <meta data-n-head="ssr" data-hid="mobile-web-app-capable" name="mobile-web-app-capable" content="yes">
      <meta data-n-head="ssr" data-hid="apple-mobile-web-app-title" name="apple-mobile-web-app-title" content="Compra Certa">
      <meta data-n-head="ssr" data-hid="og:type" name="og:type" property="og:type" content="website">
      <meta data-n-head="ssr" data-hid="og:title" name="og:title" property="og:title" content="Compra Certa">
      <meta data-n-head="ssr" data-hid="og:site_name" name="og:site_name" property="og:site_name" content="Compra Certa">
      <meta data-n-head="ssr" data-hid="og:description" name="og:description" property="og:description" content="Ofertas e cupons de desconto">
      <meta data-n-head="ssr" data-hid="og:url" name="og:url" property="og:url" content="https://site.com.br">
      <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet">
      <meta data-n-head="ssr" data-hid="og:image" name="og:image" property="og:image" content="https://cdn-icons-png.flaticon.com/512/8781/8781763.png">
      <!-- <link data-n-head="ssr" rel="icon" type="image/x-icon" href="/favicon.ico"> -->
      <link data-n-head="ssr" rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&amp;display=swap">
      <!-- <link data-n-head="ssr" data-hid="shortcut-icon" rel="shortcut icon" href="/favicon.ico"> -->
	  <link rel="stylesheet" href="./main.css">
      <style data-vue-ssr-id="65b97e00:0 c93dc4dc:0 4db5b784:0 f2184300:0 7f1d95c6:0">         
      </style>
   </head>
   <body>
    <main class="px-3">
        <div >
            <section class="flex flex-wrap justify-center">
                <div class="lg:container mx-auto">
                <h5 id="titleS" class="text-black dark:text-white font-bold text-2xl my-5 flex items-center">
                   
                </h5>
                <section id="main" class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-5">   
                    
                </section>
             </div>
        </div>
    </main>

    <script>
        let urlParams = new URLSearchParams(window.location.search);
        let pesquisa = urlParams.get('pesquisa');
        if (!pesquisa == "") {
            fetch('https://raw.githubusercontent.com/compracerta/compracerta.github.io/main/test1', { cache: 'no-store' })
           .then(response => response.text())
           .then(data => {
              lines = data.split('\n').map(line => line.split(','));  
              for (let i = 0; i < lines.length -1; i++) {
                 let lineq = lines[i].map(element => element.replace(/¶†✱/g, ','));
                 appendToPage(lineq, pesquisa);
                 lineIndex ++;
              }
        });
        } else{
            window.location.href = '/';
        }

        let lines = [];
            
        


        function appendToPage(array, searchTerm) {
            //console.log('apend', array);
            let titulo = array[3];           
            let preco = array[7];
            let vendidos = array[6];
            let avaliacao = array[4]; 
            let id = array[0].replace('https://shope.ee/', '');

            html = `
            <div  class="max-w-sm rounded-2xl flex dark:border dark:border-white flex-col w-full card bg-white dark:bg-black hover:shadow-lg">
            <a  href="${array[0]}" target="_blank"  class="flex flex-col justify-center self-center items-center img-container bg-white w-full rounded-t-[0.9rem]"><img  src="${array[9]}" alt="${array[3]}" class="p-1 rounded-t-lg object-contain img-product"></a> 
            <div  class="px-3 py-3 w-full">
                <a target="_blank"  href="${array[0]}">
                    <h5 class="text-base font-semibold tracking-tight text-gray-900 line-clamp-2 h-12 dark:text-white">${titulo}</h5>
                </a>
                <div  class="flex my-1 mb-1 flex-col">
                    <p class="inline-flex text-sm text-green-500">
                    <svg height="20" width="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                        <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                        <g id="SVGRepo_iconCarrier">
                            <path d="M9.15316 5.40838C10.4198 3.13613 11.0531 2 12 2C12.9469 2 13.5802 3.13612 14.8468 5.40837L15.1745 5.99623C15.5345 6.64193 15.7144 6.96479 15.9951 7.17781C16.2757 7.39083 16.6251 7.4699 17.3241 7.62805L17.9605 7.77203C20.4201 8.32856 21.65 8.60682 21.9426 9.54773C22.2352 10.4886 21.3968 11.4691 19.7199 13.4299L19.2861 13.9372C18.8096 14.4944 18.5713 14.773 18.4641 15.1177C18.357 15.4624 18.393 15.8341 18.465 16.5776L18.5306 17.2544C18.7841 19.8706 18.9109 21.1787 18.1449 21.7602C17.3788 22.3417 16.2273 21.8115 13.9243 20.7512L13.3285 20.4768C12.6741 20.1755 12.3469 20.0248 12 20.0248C11.6531 20.0248 11.3259 20.1755 10.6715 20.4768L10.0757 20.7512C7.77268 21.8115 6.62118 22.3417 5.85515 21.7602C5.08912 21.1787 5.21588 19.8706 5.4694 17.2544L5.53498 16.5776C5.60703 15.8341 5.64305 15.4624 5.53586 15.1177C5.42868 14.773 5.19043 14.4944 4.71392 13.9372L4.2801 13.4299C2.60325 11.4691 1.76482 10.4886 2.05742 9.54773C2.35002 8.60682 3.57986 8.32856 6.03954 7.77203L6.67589 7.62805C7.37485 7.4699 7.72433 7.39083 8.00494 7.17781C8.28555 6.96479 8.46553 6.64194 8.82547 5.99623L9.15316 5.40838Z" fill="#efd006"></path>
                        </g>
                    </svg>
                     ${avaliacao}    
                    <svg height="20" width="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                        <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                        <g id="SVGRepo_iconCarrier">
                            <path fill-rule="evenodd" clip-rule="evenodd" d="M8.25014 6.01489C8.25005 6.00994 8.25 6.00498 8.25 6V5C8.25 2.92893 9.92893 1.25 12 1.25C14.0711 1.25 15.75 2.92893 15.75 5V6C15.75 6.00498 15.75 6.00994 15.7499 6.0149C17.0371 6.05353 17.8248 6.1924 18.4261 6.69147C19.2593 7.38295 19.4787 8.55339 19.9177 10.8943L20.6677 14.8943C21.2849 18.186 21.5934 19.8318 20.6937 20.9159C19.794 22 18.1195 22 14.7704 22H9.22954C5.88048 22 4.20595 22 3.30624 20.9159C2.40652 19.8318 2.71512 18.186 3.33231 14.8943L4.08231 10.8943C4.52122 8.55339 4.74068 7.38295 5.57386 6.69147C6.17521 6.19239 6.96288 6.05353 8.25014 6.01489ZM9.75 5C9.75 3.75736 10.7574 2.75 12 2.75C13.2426 2.75 14.25 3.75736 14.25 5V6C14.25 5.99999 14.25 6.00001 14.25 6C14.1747 5.99998 14.0982 6 14.0204 6H9.97954C9.90177 6 9.82526 6 9.75 6.00002C9.75 6.00002 9.75 6.00003 9.75 6.00002V5ZM15.4685 10.9144C15.792 11.1731 15.8444 11.6451 15.5856 11.9685L11.5856 16.9685C11.4524 17.1351 11.2545 17.2371 11.0415 17.2489C10.8285 17.2607 10.6205 17.1812 10.4697 17.0304L8.46965 15.0304C8.17676 14.7375 8.17676 14.2626 8.46965 13.9697C8.76255 13.6768 9.23742 13.6768 9.53031 13.9697L10.9375 15.3769L14.4143 11.0315C14.6731 10.7081 15.1451 10.6556 15.4685 10.9144Z" fill="#ff0000"></path>
                        </g>
                    </svg>
                    <span class="text-sm text-green-500">  ${vendidos} vendidos </span>
                    </p>
                    <span class="text-xs dark:text-white text-black my-1 h-[28px]">vendido por <span class="text-green-500">Shopee</span>   apartir de:</span>
                    <span class="text-xl font-bold text-gray-900 dark:text-white">
                    <center> ${preco} 
                    <br>  
                    <p class="inline-flex text-sm text-gray-500">
                        <svg height="20" width="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                            <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                            <g id="SVGRepo_iconCarrier">
                                <path d="M3 9H21M7 3V5M17 3V5M6 12H8M11 12H13M16 12H18M6 15H8M11 15H13M16 15H18M6 18H8M11 18H13M16 18H18M6.2 21H17.8C18.9201 21 19.4802 21 19.908 20.782C20.2843 20.5903 20.5903 20.2843 20.782 19.908C21 19.4802 21 18.9201 21 17.8V8.2C21 7.07989 21 6.51984 20.782 6.09202C20.5903 5.71569 20.2843 5.40973 19.908 5.21799C19.4802 5 18.9201 5 17.8 5H6.2C5.0799 5 4.51984 5 4.09202 5.21799C3.71569 5.40973 3.40973 5.71569 3.21799 6.09202C3 6.51984 3 7.07989 3 8.2V17.8C3 18.9201 3 19.4802 3.21799 19.908C3.40973 20.2843 3.71569 20.5903 4.09202 20.782C4.51984 21 5.07989 21 6.2 21Z" stroke="#000000" stroke-width="2" stroke-linecap="round"></path>
                            </g>
                        </svg>
                         ${array[1]}
                    </center></p>
                    </span>
                </div>
                <div style="text-align: center;" class="justify-between sm:items-end flex-col gap-2">
                    <button data-url="/produto.html?id=${id}" type="button" class="openModal text-black dark:text-white hover:bg-secondary hover:border-secondary hover:text-white hover:dark-text-black border dark:border-white border-black focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-2xl text-xs sm:text-sm px-5 py-1 sm:py-2.5 text-center my-2 sm:my-0 inline-flex items-center justify-between gap-2">
                    <svg height="24" width="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                        <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                        <g id="SVGRepo_iconCarrier">
                            <path d="M4 12H20M12 4V20" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
                        </g>
                    </svg>
                    Mais detalhes
                    </button>
                    <a href="${array[0]}" target="_blank" type="button" class="top text-black dark:text-white hover:bg-secondary hover:border-secondary hover:text-white hover:dark-text-black border dark:border-white border-black focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-2xl text-xs sm:text-sm px-5 py-1 sm:py-2.5 text-center my-2 sm:my-0 inline-flex items-center justify-between gap-2">
                    <svg height="24" width="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                        <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                        <g id="SVGRepo_iconCarrier">
                            <path d="M6.29977 5H21L19 12H7.37671M20 16H8L6 3H3M9 20C9 20.5523 8.55228 21 8 21C7.44772 21 7 20.5523 7 20C7 19.4477 7.44772 19 8 19C8.55228 19 9 19.4477 9 20ZM20 20C20 20.5523 19.5523 21 19 21C18.4477 21 18 20.5523 18 20C18 19.4477 18.4477 19 19 19C19.5523 19 20 19.4477 20 20Z" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
                        </g>
                    </svg>
                    Compre agora
                    </a>
                </div>
            </div>
            </div>
                                
            `
            document.getElementById('titleS').innerHTML += 'Resultado para pesquisa: ' + searchTerm;
            document.getElementById('main').innerHTML += html;
        }

    </script>